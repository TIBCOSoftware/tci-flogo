{
    "imports": [
        "github.com/project-flogo/flow",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/log",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/shareddata",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/mapper",
        "github.com/project-flogo/contrib/activity/actreturn",
        "github.com/project-flogo/graphql/trigger/graphql",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/trigger/timer",
        "github.com/project-flogo/contrib/function/array",
        "github.com/project-flogo/contrib/function/string"
    ],
    "name": "MP_GraphQL_CustomerOrderAPI",
    "description": "The Order API using Graphql",
    "version": "1.0.0",
    "type": "flogo:app",
    "appModel": "1.1.1",
    "tags": [],
    "feVersion": "2.12.0",
    "triggers": [
        {
            "ref": "#graphql",
            "name": "tibco-graphql",
            "description": "Simple GraphQL Trigger",
            "settings": {
                "port": 7879,
                "path": "/graphql",
                "schemaFile": {
                    "filename": "Order.gql",
                    "content": "data:application/octet-stream;base64,dHlwZSBPcmRlclR4biB7IAogIE9yZGVySUQ6IEludAogIEN1c3RJRDogU3RyaW5nCiAgT3JkZXJBbW91bnQ6IEludAogIE9yZGVyRGF0ZVRpbWU6IFN0cmluZwogIE9yZGVyUHJpb3JpdHk6IFN0cmluZwogIE9yZGVyU3RhdHVzOiBTdHJpbmcKICBTaGlwVG9TdGF0ZTogU3RyaW5nIH0KCnR5cGUgT3JkZXJUeG5SZXNwb3NlIHsgCglPcmRlcklEOiBJbnQKCU9yZGVyU3RhdHVzOiBTdHJpbmcKfQp0eXBlIEF1dG9nZW5lcmF0ZWRNYWluVHlwZSB7IE9yZGVyVHhuOiBPcmRlclR4biB9CgoKICB0eXBlIFF1ZXJ5IHsKICAgICJHZXQgb3JkZXIgYnkgb3JkZXIgSUQiCiAgICBHZXRPcmRlcihPcmRlcklEOiBJbnQhKTogT3JkZXJUeG4KCX0KCiAgdHlwZSBNdXRhdGlvbiB7CiAgICJDcmVhdGUgYSBvcmRlci0gd2lsbCBjcmVhdGUgbWltaWMgb2Ygb3JkZXIiCgkKCUNyZWF0ZU9yZGVyKG9yZGVyT2JqOiBPcmRlclR4bik6IE9yZGVyVHhuUmVzcG9zZQogIH0KCiAgc2NoZW1hIHsKICAgIHF1ZXJ5OiBRdWVyeQogICAgbXV0YXRpb246IE11dGF0aW9uCiAgfQ=="
                },
                "secureConnection": false,
                "serverKey": "",
                "caCertificate": "",
                "graphqlSchema": "type OrderTxn { \n  OrderID: Int\n  CustID: String\n  OrderAmount: Int\n  OrderDateTime: String\n  OrderPriority: String\n  OrderStatus: String\n  ShipToState: String }\n\ntype OrderTxnRespose { \n\tOrderID: Int\n\tOrderStatus: String\n}\ntype AutogeneratedMainType { OrderTxn: OrderTxn }\n\n\n  type Query {\n    \"Get order by order ID\"\n    GetOrder(OrderID: Int!): OrderTxn\n\t}\n\n  type Mutation {\n   \"Create a order- will create mimic of order\"\n\t\n\tCreateOrder(orderObj: OrderTxn): OrderTxnRespose\n  }\n\n  schema {\n    query: Query\n    mutation: Mutation\n  }"
            },
            "id": "GraphQLTrigger",
            "handlers": [
                {
                    "description": "Get order by order ID",
                    "settings": {
                        "operation": "Query",
                        "resolverFor": "GetOrder"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:GetOrder"
                        },
                        "input": {
                            "arguments": "=$.arguments"
                        },
                        "output": {
                            "data": "=$.data"
                        }
                    },
                    "schemas": {
                        "reply": {
                            "data": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"OrderTxn\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}},\"required\":[]}",
                                "fe_metadata": "{\"type\":\"object\",\"properties\":{\"OrderTxn\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}},\"required\":[]}"
                            }
                        },
                        "output": {
                            "arguments": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"}},\"required\":[\"OrderID\"]}",
                                "fe_metadata": "{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"}},\"required\":[\"OrderID\"]}"
                            }
                        }
                    },
                    "name": "GetOrder"
                },
                {
                    "description": "Create a order- will create mimic of order",
                    "settings": {
                        "operation": "Mutation",
                        "resolverFor": "CreateOrder"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:CreateOrder"
                        },
                        "input": {
                            "arguments": "=$.arguments"
                        },
                        "output": {
                            "data": "=$.data"
                        }
                    },
                    "schemas": {
                        "reply": {
                            "data": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"OrderTxnRespose\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"OrderStatus\":{\"type\":\"string\"}}}},\"required\":[]}",
                                "fe_metadata": "{\"type\":\"object\",\"properties\":{\"OrderTxnRespose\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"OrderStatus\":{\"type\":\"string\"}}}},\"required\":[]}"
                            }
                        },
                        "output": {
                            "arguments": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"orderObj\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}},\"required\":[]}",
                                "fe_metadata": "{\"type\":\"object\",\"properties\":{\"orderObj\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}},\"required\":[]}"
                            }
                        }
                    },
                    "name": "CreateOrder"
                }
            ]
        },
        {
            "ref": "#timer",
            "name": "tibco-wi-timer",
            "description": "Simple Timer trigger",
            "settings": {},
            "id": "TimerTrigger",
            "handlers": [
                {
                    "description": "This flow will initialise the Order List (shared data variable).",
                    "settings": {
                        "Repeating": false,
                        "Start Date": "",
                        "Time Interval": 1,
                        "Interval Unit": "Second"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:Initialise_OrderList"
                        }
                    },
                    "name": "Initialise_OrderList"
                }
            ]
        }
    ],
    "resources": [
        {
            "id": "flow:GetOrder",
            "data": {
                "name": "GetOrder",
                "description": "Get order by order ID",
                "links": [
                    {
                        "id": 1,
                        "from": "LogMessage",
                        "to": "GetOrders",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "GetOrders",
                        "to": "Get_OrderByOrderID",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "Get_OrderByOrderID",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogMessage",
                        "name": "LogMessage",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false
                            }
                        }
                    },
                    {
                        "id": "GetOrders",
                        "name": "GetOrders",
                        "description": "Enable sharing of data within or across flows in the application",
                        "activity": {
                            "ref": "#shareddata",
                            "settings": {
                                "scope": "Application",
                                "operation": "GET",
                                "type": "object",
                                "objectSchema": "{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}"
                            },
                            "input": {
                                "key": "Order"
                            },
                            "schemas": {
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}}}",
                                        "fe_metadata": "{ \"exist\":false, \"data\":{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}}"
                                    }
                                },
                                "settings": {
                                    "objectSchema": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Get_OrderByOrderID",
                        "name": "Get_OrderByOrderID",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "Orders": {
                                            "@foreach($activity[GetOrders].output.data.Orders, Orders, $loop.OrderID == $flow.arguments.OrderID)": {
                                                "=": "$loop"
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\n  \"Orders\": [\n    {\n      \"OrderID\": 1111,\n      \"CustID\": \"Nikhil\",\n      \"OrderAmount\": 10000,\n      \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n      \"OrderPriority\": \"HIGH\",\n      \"OrderStatus\": \"Shipped\",\n      \"ShipToState\": \"CA\"\n    }\n  ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "data": {
                                        "mapping": {
                                            "OrderTxn": "=$activity[Get_OrderByOrderID].output.Orders[0]"
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "arguments",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"OrderID\":{\"type\":\"number\"}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "data",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"OrderTxn\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"GraphQLTrigger\",\"properties\":{\"arguments\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"}},\"required\":[\"OrderID\"]}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"type\":\"object\",\"properties\":{\"OrderTxn\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}},\"required\":[]}},\"required\":[]}"
                    }
                },
                "flowId": "79b2a9fe-7a3a-4feb-a407-7cf8f352715c"
            }
        },
        {
            "id": "flow:CreateOrder",
            "data": {
                "name": "CreateOrder",
                "description": "Create a order- will create mimic of order",
                "links": [
                    {
                        "id": 1,
                        "from": "LogMessage",
                        "to": "CreateOrder",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "CreateOrder",
                        "to": "GetOrderList",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "GetOrderList",
                        "to": "AddOrderTo_List",
                        "type": "default"
                    },
                    {
                        "id": 4,
                        "from": "AddOrderTo_List",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogMessage",
                        "name": "LogMessage",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=string.concat(\"#### ORDER RECEIVED : \", string.tostring($flow.arguments.orderObj), \" ####\")"
                            }
                        }
                    },
                    {
                        "id": "CreateOrder",
                        "name": "CreateOrder",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "Order": "=$flow.arguments.orderObj"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Order\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\n  \"Order\": \n            {\n            \"OrderID\": 1111,\n            \"CustID\": \"Nikhil\",\n            \"OrderAmount\": 10000,\n            \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n            \"OrderPriority\": \"HIGH\",\n            \"OrderStatus\": \"Shipped\",\n            \"ShipToState\": \"CA\"\n        }\n    \n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Order\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\n  \"Order\": {\n    \"OrderID\": 1111,\n    \"CustID\": \"Nikhil\",\n    \"OrderAmount\": 10000,\n    \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n    \"OrderPriority\": \"HIGH\",\n    \"OrderStatus\": \"Shipped\",\n    \"ShipToState\": \"CA\"\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "GetOrderList",
                        "name": "GetOrderList",
                        "description": "Enable sharing of data within or across flows in the application",
                        "activity": {
                            "ref": "#shareddata",
                            "settings": {
                                "scope": "Application",
                                "operation": "GET",
                                "type": "object",
                                "objectSchema": "{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}"
                            },
                            "input": {
                                "key": "Order"
                            },
                            "schemas": {
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}}}",
                                        "fe_metadata": "{ \"exist\":false, \"data\":{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}}"
                                    }
                                },
                                "settings": {
                                    "objectSchema": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "AddOrderTo_List",
                        "name": "AddOrderTo_List",
                        "description": "Enable sharing of data within or across flows in the application",
                        "activity": {
                            "ref": "#shareddata",
                            "settings": {
                                "scope": "Application",
                                "operation": "SET",
                                "type": "object",
                                "objectSchema": "{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}"
                            },
                            "input": {
                                "key": "Order",
                                "input": {
                                    "mapping": {
                                        "data": {
                                            "Orders": "=array.append($activity[GetOrderList].output.data.Orders, $activity[CreateOrder].output.Order)"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"data\":{\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}}}",
                                        "fe_metadata": "{\"data\":{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"string\"}}}"
                                    }
                                },
                                "settings": {
                                    "objectSchema": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "data": {
                                        "mapping": {
                                            "OrderTxnRespose": {
                                                "OrderID": "=$activity[CreateOrder].output.Order.OrderID",
                                                "OrderStatus": "Created"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "arguments",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"orderObj\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "data",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"OrderTxnRespose\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"OrderStatus\":{\"type\":\"string\"}}}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"GraphQLTrigger\",\"properties\":{\"arguments\":{\"type\":\"object\",\"properties\":{\"orderObj\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}},\"required\":[]}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"type\":\"object\",\"properties\":{\"OrderTxnRespose\":{\"type\":\"object\",\"required\":[],\"properties\":{\"OrderID\":{\"type\":\"number\"},\"OrderStatus\":{\"type\":\"string\"}}}},\"required\":[]}},\"required\":[]}"
                    }
                },
                "flowId": "5146fbb8-fc74-4c9d-b36a-480dd3baf757"
            }
        },
        {
            "id": "flow:Initialise_OrderList",
            "data": {
                "name": "Initialise OrderList",
                "description": "This flow will initialise the Order List (shared data variable).",
                "links": [],
                "tasks": [
                    {
                        "id": "Initialise_OrderList",
                        "name": "Initialise_OrderList",
                        "description": "Enable sharing of data within or across flows in the application",
                        "activity": {
                            "ref": "#shareddata",
                            "settings": {
                                "scope": "Application",
                                "operation": "SET",
                                "type": "object",
                                "objectSchema": "{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}"
                            },
                            "input": {
                                "key": "Order",
                                "input": {
                                    "mapping": {
                                        "data": {
                                            "Orders": [
                                                {
                                                    "OrderID": 1111,
                                                    "CustID": "milind",
                                                    "OrderAmount": 10000,
                                                    "OrderDateTime": "2019-06-15T11:09:21.234",
                                                    "OrderStatus": "Shipped",
                                                    "ShipToState": "MH"
                                                }
                                            ]
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"data\":{\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}}}",
                                        "fe_metadata": "{\"data\":{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"string\"}}}"
                                    }
                                },
                                "settings": {
                                    "objectSchema": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Orders\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"OrderID\":{\"type\":\"number\"},\"CustID\":{\"type\":\"string\"},\"OrderAmount\":{\"type\":\"number\"},\"OrderDateTime\":{\"type\":\"string\"},\"OrderPriority\":{\"type\":\"string\"},\"OrderStatus\":{\"type\":\"string\"},\"ShipToState\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\n  \"Orders\": \n  [\n      {\n        \"OrderID\": 1111,\n        \"CustID\": \"Nikhil\",\n        \"OrderAmount\": 10000,\n        \"OrderDateTime\": \"2019-06-15T11:09:21.234\",\n        \"OrderPriority\": \"HIGH\",\n        \"OrderStatus\": \"Shipped\",\n        \"ShipToState\": \"CA\"\n        }\n    ]\n}"
                                    }
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [],
                    "output": [],
                    "fe_metadata": {}
                },
                "flowId": "7d2e08ec-0ce3-4dae-b575-14ec9aec1c2d"
            }
        }
    ],
    "properties": [],
    "connections": {},
    "contrib": "W3sicmVmIjoiZ2l0LnRpYmNvLmNvbS9naXQvcHJvZHVjdC9pcGFhcy93aS1jb250cmliLmdpdC9jb250cmlidXRpb25zL0dlbmVyYWwiLCJzM2xvY2F0aW9uIjoiVGliY28vR2VuZXJhbCJ9XQ==",
    "fe_metadata": "UEsDBAoAAAAIAK92eVKrqSRGFQAAABMAAAAIAAAAYXBwLmpzb26rViopykxPTy1yy8kvL1ayio6tBQBQSwECFAAKAAAACACvdnlSq6kkRhUAAAATAAAACAAAAAAAAAAAAAAAAAAAAAAAYXBwLmpzb25QSwUGAAAAAAEAAQA2AAAAOwAAAAAA"
}