{
    "imports": [
        "github.com/project-flogo/flow",
        "git.tibco.com/git/product/ipaas/wi-plugins.git/contributions/amazonS3/src/app/AmazonS3/activity/put",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/log",
        "github.com/project-flogo/contrib/activity/actreturn",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/httpresponse",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/trigger/rest",
        "github.com/project-flogo/contrib/function/coerce",
        "github.com/project-flogo/contrib/function/string",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/function/boolean",
        "git.tibco.com/git/product/ipaas/wi-plugins.git/contributions/AWS/connector"
    ],
    "name": "MultipartUrlEncodedService",
    "description": "",
    "version": "1.0.0",
    "type": "flogo:app",
    "appModel": "1.1.1",
    "tags": [],
    "feVersion": "2.13.0",
    "triggers": [
        {
            "ref": "#rest",
            "name": "tibco-wi-rest",
            "description": "Simple REST Trigger",
            "settings": {
                "port": 9998,
                "APISpecUpdate": false,
                "swagger": "",
                "swaggerVersion": "v2",
                "secureConnection": false,
                "serverKey": "",
                "caCertificate": ""
            },
            "id": "ReceiveHTTPMessage",
            "handlers": [
                {
                    "description": "Rest Service having AmazonS3 Put activity for putting file content on the S3 bucket",
                    "settings": {
                        "Method": "POST",
                        "reqType": "multipart/form-data",
                        "Path": "/postmultipart/{bucketName}",
                        "OutputValidation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:PostMultipartData"
                        },
                        "input": {
                            "queryParams": "=$.queryParams",
                            "pathParams": "=$.pathParams",
                            "headers": "=$.headers",
                            "multipartFormData": "=$.multipartFormData"
                        },
                        "output": {
                            "code": "=$.code",
                            "data": "=$.data"
                        }
                    },
                    "reply": {
                        "code": 200,
                        "configureResponseCodes": false,
                        "message": {}
                    },
                    "schemas": {
                        "reply": {
                            "data": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"FileStatus\":{\"type\":\"string\"},\"StringParamData\":{\"type\":\"string\"},\"ObjectParamData\":{\"type\":\"object\",\"properties\":{}}}}",
                                "fe_metadata": "{\n    \"FileStatus\":\"\",\n    \"StringParamData\":\"\",\n    \"ObjectParamData\":{}\n}"
                            },
                            "responseBody": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}",
                                "fe_metadata": "{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}"
                            },
                            "responseCodesSchema": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"responseType\":{\"type\":\"string\"},\"responseSchema\":{\"type\":\"string\"},\"responseHeaders\":{\"type\":\"string\"}},\"required\":[\"code\",\"responseType\",\"responseSchema\",\"responseHeaders\"]}}",
                                "fe_metadata": "[{\"code\":\"200\",\"responseType\":\"object\",\"responseSchema\":\"{\\n    \\\"string\\\":\\\"\\\",\\n    \\\"object\\\":{},\\n    \\\"file\\\":\\\"\\\"\\n}\",\"responseHeaders\":\"{\\n    \\\"hdr200\\\":1123\\n}\"},{\"code\":\"400\",\"responseType\":\"object\",\"responseSchema\":\"{\\n    \\\"string\\\":\\\"\\\",\\n    \\\"file\\\":\\\"\\\"\\n}\",\"responseHeaders\":\"{\\n    \\\"hdr400\\\":false\\n}\"},{\"code\":\"500\",\"responseType\":\"object\",\"responseSchema\":\"{\\n    \\\"string\\\":\\\"\\\",\\n    \\\"Object\\\":{}\\n}\",\"responseHeaders\":\"{\\n    \\\"hdr500\\\":\\\"qwqwq\\\"\\n}\"}]"
                            }
                        },
                        "output": {
                            "queryParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"fileName\":{\"type\":\"string\"}},\"required\":[\"fileName\"]}",
                                "fe_metadata": "[{\"parameterName\":\"fileName\",\"type\":\"string\",\"repeating\":\"\",\"required\":\"true\"}]"
                            },
                            "pathParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"bucketName\":{\"type\":\"string\"}},\"required\":[]}",
                                "fe_metadata": "[{\"parameterName\":\"bucketName\",\"type\":\"string\"}]"
                            },
                            "headers": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"hp1\":{\"type\":\"boolean\"},\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}},\"required\":[]}",
                                "fe_metadata": "[{\"parameterName\":\"hp1\",\"type\":\"boolean\",\"repeating\":\"\",\"required\":\"\"},{\"parameterName\":\"Accept\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Charset\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Encoding\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Type\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Length\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Connection\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Cookie\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Pragma\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false}]"
                            },
                            "multipartFormData": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"objparam1\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"category\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"name\":{\"type\":\"string\"}}},\"name\":{\"type\":\"string\"},\"photoUrls\":{\"type\":\"array\",\"items\":[{\"type\":\"string\"}]},\"tags\":{\"type\":\"array\",\"items\":[{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"name\":{\"type\":\"string\"}},\"required\":[\"id\",\"name\"]}]},\"status\":{\"type\":\"string\"}}},\"sparam1\":{\"type\":\"string\"},\"file\":{\"type\":\"any\"}}}",
                                "fe_metadata": "{\"type\":\"object\",\"properties\":{\"objparam1\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"category\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"name\":{\"type\":\"string\"}}},\"name\":{\"type\":\"string\"},\"photoUrls\":{\"type\":\"array\",\"items\":[{\"type\":\"string\"}]},\"tags\":{\"type\":\"array\",\"items\":[{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"name\":{\"type\":\"string\"}},\"required\":[\"id\",\"name\"]}]},\"status\":{\"type\":\"string\"}}},\"sparam1\":{\"type\":\"string\"},\"file\":{\"type\":\"any\"}}}"
                            },
                            "multipartForm": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"required\":{\"type\":\"string\"},\"schema\":{\"type\":\"string\"}},\"required\":[\"name\",\"type\",\"required\",\"schema\"]}}",
                                "fe_metadata": "[{\"name\":\"objparam1\",\"type\":\"object\",\"required\":\"\",\"schema\":\"{\\n  \\\"$schema\\\": \\\"http://json-schema.org/draft-04/schema#\\\",\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"id\\\": {\\n      \\\"type\\\": \\\"integer\\\"\\n    },\\n    \\\"category\\\": {\\n      \\\"type\\\": \\\"object\\\",\\n      \\\"properties\\\": {\\n        \\\"id\\\": {\\n          \\\"type\\\": \\\"integer\\\"\\n        },\\n        \\\"name\\\": {\\n          \\\"type\\\": \\\"string\\\"\\n        }\\n      }\\n    },\\n    \\\"name\\\": {\\n      \\\"type\\\": \\\"string\\\"\\n    },\\n    \\\"photoUrls\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": [\\n        {\\n          \\\"type\\\": \\\"string\\\"\\n        }\\n      ]\\n    },\\n    \\\"tags\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"items\\\": [\\n        {\\n          \\\"type\\\": \\\"object\\\",\\n          \\\"properties\\\": {\\n            \\\"id\\\": {\\n              \\\"type\\\": \\\"integer\\\"\\n            },\\n            \\\"name\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            }\\n          },\\n          \\\"required\\\": [\\n            \\\"id\\\",\\n            \\\"name\\\"\\n          ]\\n        }\\n      ]\\n    },\\n    \\\"status\\\": {\\n      \\\"type\\\": \\\"string\\\"\\n    }\\n  }\\n}\"},{\"name\":\"sparam1\",\"type\":\"string\",\"required\":\"true\",\"schema\":\"\"},{\"name\":\"file\",\"type\":\"filecontent\",\"required\":\"\",\"schema\":\"\"}]"
                            }
                        }
                    },
                    "name": "PostMultipartData"
                },
                {
                    "description": "Rest service having Request type as Form URL Encoded",
                    "settings": {
                        "Method": "PUT",
                        "reqType": "application/x-www-form-urlencoded",
                        "Path": "/putformurlencoded/{pathparam}",
                        "OutputValidation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:PutFlowFormURLEncoded"
                        },
                        "input": {
                            "queryParams": {
                                "mapping": {
                                    "queryparam": "=$.queryParams.queryparam"
                                }
                            },
                            "pathParams": {
                                "mapping": {
                                    "pathparam": "=$.pathParams.pathparam"
                                }
                            },
                            "headers": {
                                "mapping": {
                                    "headerparam": "=$.headers.headerparam"
                                }
                            },
                            "body": "=$.body"
                        },
                        "output": {
                            "code": "=$.code",
                            "responseBody": {
                                "mapping": {
                                    "body": "=$.responseBody.body",
                                    "headers": "=$.responseBody.headers"
                                }
                            }
                        }
                    },
                    "reply": {
                        "code": 200,
                        "configureResponseCodes": true,
                        "message": {}
                    },
                    "schemas": {
                        "reply": {
                            "data": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"ID\":{\"type\":\"number\"},\"Available\":{\"type\":\"boolean\"}}}",
                                "fe_metadata": "{\n    \"Name\":\"\",\n    \"ID\":432,\n    \"Available\":false\n}"
                            },
                            "responseBody": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}",
                                "fe_metadata": "{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}"
                            },
                            "responseCodesSchema": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"responseType\":{\"type\":\"string\"},\"responseSchema\":{\"type\":\"string\"},\"responseHeaders\":{\"type\":\"string\"}},\"required\":[\"code\",\"responseType\",\"responseSchema\",\"responseHeaders\"]}}",
                                "fe_metadata": "[{\"code\":\"200\",\"responseType\":\"object\",\"responseSchema\":\"{\\n    \\\"Name\\\":\\\"\\\",\\n    \\\"ID\\\":432,\\n    \\\"Available\\\":false\\n}\",\"responseHeaders\":\"{\\n    \\\"CustomHeader200\\\":\\\"\\\"\\n}\"},{\"code\":\"400\",\"responseType\":\"object\",\"responseSchema\":\"{\\n    \\\"Error\\\":\\\"\\\",\\n    \\\"Available\\\":false\\n}\",\"responseHeaders\":\"{\\n    \\\"CustomHeader400\\\":\\\"\\\"\\n}\"}]"
                            }
                        },
                        "output": {
                            "queryParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"queryparam\":{\"type\":\"number\"}},\"required\":[\"queryparam\"]}",
                                "fe_metadata": "[{\"parameterName\":\"queryparam\",\"type\":\"number\",\"repeating\":\"\",\"required\":\"true\"}]"
                            },
                            "pathParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"pathparam\":{\"type\":\"string\"}},\"required\":[]}",
                                "fe_metadata": "[{\"parameterName\":\"pathparam\",\"type\":\"string\"}]"
                            },
                            "headers": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"headerparam\":{\"type\":\"boolean\"},\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}},\"required\":[]}",
                                "fe_metadata": "[{\"parameterName\":\"headerparam\",\"type\":\"boolean\",\"repeating\":\"\",\"required\":\"\"},{\"parameterName\":\"Accept\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Charset\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Encoding\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Type\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Length\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Connection\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Cookie\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Pragma\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false}]"
                            },
                            "body": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"@putName\":{\"type\":\"string\"},\"putID_\":{\"type\":\"number\"},\"_putBool\":{\"type\":\"boolean\"}}}",
                                "fe_metadata": "{\n    \"@putName\":\"\",\n    \"putID_\":431,\n    \"_putBool\":false\n}"
                            }
                        }
                    },
                    "name": "PutFlowFormURLEncoded"
                }
            ]
        }
    ],
    "resources": [
        {
            "id": "flow:PostMultipartData",
            "data": {
                "name": "PostMultipartData",
                "description": "Rest Service having AmazonS3 Put activity for putting file content on the S3 bucket",
                "links": [
                    {
                        "id": 1,
                        "from": "Put",
                        "to": "LogMessage",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "LogMessage",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "Put",
                        "name": "Put",
                        "description": "Amazon S3 Put Activity",
                        "activity": {
                            "ref": "#put",
                            "input": {
                                "connection": "conn://f25c9f40-c1e5-11eb-9809-f3586e79f420",
                                "serviceName": "object",
                                "putType": "upload",
                                "inputType": "text",
                                "preserveACL": false,
                                "input": {
                                    "mapping": {
                                        "Bucket": "=$flow.pathParams.bucketName",
                                        "Key": "=$flow.queryParams.fileName",
                                        "TextContent": "=coerce.toString($flow.multipartFormData.file)"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"required\":[\"Bucket\",\"Key\",\"TextContent\"],\"properties\":{\"Bucket\":{\"type\":\"string\"},\"Key\":{\"type\":\"string\"},\"TextContent\":{\"type\":\"string\"},\"ACL\":{\"type\":\"string\"},\"CacheControl\":{\"type\":\"string\"},\"ContentDisposition\":{\"type\":\"string\"},\"ContentEncoding\":{\"type\":\"string\"},\"ContentLanguage\":{\"type\":\"string\"},\"ContentLength\":{\"type\":\"integer\"},\"ContentMD5\":{\"type\":\"string\"},\"ContentType\":{\"type\":\"string\"},\"Expires\":{\"type\":\"string\",\"format\":\"date-time\"},\"GrantFullControl\":{\"type\":\"string\"},\"GrantRead\":{\"type\":\"string\"},\"GrandReadACP\":{\"type\":\"string\"},\"GrantWriteACP\":{\"type\":\"string\"},\"RequestPayer\":{\"type\":\"string\"},\"SSECustomerAlgorithm\":{\"type\":\"string\"},\"SSECustomerKey\":{\"type\":\"string\"},\"SSECustomerKeyMD5\":{\"type\":\"string\"},\"SSEKMSKeyId\":{\"type\":\"string\"},\"ServerSideEncryption\":{\"type\":\"string\"},\"StorageClass\":{\"type\":\"string\"},\"Tagging\":{\"type\":\"string\"},\"UserMetadata\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Key\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}},\"WebsiteRedirectLocation\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"required\":[\"Bucket\",\"Key\",\"TextContent\"],\"properties\":{\"Bucket\":{\"type\":\"string\"},\"Key\":{\"type\":\"string\"},\"TextContent\":{\"type\":\"string\"},\"ACL\":{\"type\":\"string\"},\"CacheControl\":{\"type\":\"string\"},\"ContentDisposition\":{\"type\":\"string\"},\"ContentEncoding\":{\"type\":\"string\"},\"ContentLanguage\":{\"type\":\"string\"},\"ContentLength\":{\"type\":\"integer\"},\"ContentMD5\":{\"type\":\"string\"},\"ContentType\":{\"type\":\"string\"},\"Expires\":{\"type\":\"string\",\"format\":\"date-time\"},\"GrantFullControl\":{\"type\":\"string\"},\"GrantRead\":{\"type\":\"string\"},\"GrandReadACP\":{\"type\":\"string\"},\"GrantWriteACP\":{\"type\":\"string\"},\"RequestPayer\":{\"type\":\"string\"},\"SSECustomerAlgorithm\":{\"type\":\"string\"},\"SSECustomerKey\":{\"type\":\"string\"},\"SSECustomerKeyMD5\":{\"type\":\"string\"},\"SSEKMSKeyId\":{\"type\":\"string\"},\"ServerSideEncryption\":{\"type\":\"string\"},\"StorageClass\":{\"type\":\"string\"},\"Tagging\":{\"type\":\"string\"},\"UserMetadata\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Key\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}},\"WebsiteRedirectLocation\":{\"type\":\"string\"}}}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ETag\":{\"type\":\"string\"},\"Expiration\":{\"type\":\"string\"},\"RequestCharged\":{\"type\":\"string\"},\"SSECustomerAlgorithm\":{\"type\":\"string\"},\"SSECustomerKeyMD5\":{\"type\":\"string\"},\"SSEKMSKeyId\":{\"type\":\"string\"},\"ServerSideEncryption\":{\"type\":\"string\"},\"VersionId\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ETag\":{\"type\":\"string\"},\"Expiration\":{\"type\":\"string\"},\"RequestCharged\":{\"type\":\"string\"},\"SSECustomerAlgorithm\":{\"type\":\"string\"},\"SSECustomerKeyMD5\":{\"type\":\"string\"},\"SSEKMSKeyId\":{\"type\":\"string\"},\"ServerSideEncryption\":{\"type\":\"string\"},\"VersionId\":{\"type\":\"string\"}}}"
                                    },
                                    "error": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"message\":{\"type\":\"string\"},\"statusCode\":{\"type\":\"integer\"},\"requestId\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"message\":{\"type\":\"string\"},\"statusCode\":{\"type\":\"integer\"},\"requestId\":{\"type\":\"string\"}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogMessage",
                        "name": "LogMessage",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$activity[Put].output.VersionId"
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "code": 200,
                                    "data": {
                                        "mapping": {
                                            "FileStatus": "=string.concat($flow.queryParams.fileName,\" file has been put on S3 successfully\")",
                                            "StringParamData": "=$flow.multipartFormData.sparam1",
                                            "ObjectParamData": "=$flow.multipartFormData.objparam1"
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "queryParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"fileName\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "pathParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"bucketName\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "headers",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"hp1\":{\"type\":\"boolean\"},\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}}"
                            }
                        },
                        {
                            "name": "multipartFormData",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"objparam1\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"category\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"name\":{\"type\":\"string\"}}},\"name\":{\"type\":\"string\"},\"photoUrls\":{\"type\":\"array\",\"items\":[{\"type\":\"string\"}]},\"tags\":{\"type\":\"array\",\"items\":[{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"name\":{\"type\":\"string\"}},\"required\":[\"id\",\"name\"]}]},\"status\":{\"type\":\"string\"}}},\"sparam1\":{\"type\":\"string\"},\"file\":{\"type\":\"any\"}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "code",
                            "type": "integer"
                        },
                        {
                            "name": "data",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"FileStatus\":{\"type\":\"string\"},\"StringParamData\":{\"type\":\"string\"},\"ObjectParamData\":{\"type\":\"object\",\"properties\":{}}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"ReceiveHTTPMessage\",\"properties\":{\"queryParams\":{\"type\":\"object\",\"properties\":{\"fileName\":{\"type\":\"string\"}},\"required\":[\"fileName\"]},\"pathParams\":{\"type\":\"object\",\"properties\":{\"bucketName\":{\"type\":\"string\"}},\"required\":[]},\"headers\":{\"type\":\"object\",\"properties\":{\"hp1\":{\"type\":\"boolean\"},\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}},\"required\":[]},\"multipartFormData\":{\"type\":\"object\",\"properties\":{\"objparam1\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"category\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"name\":{\"type\":\"string\"}}},\"name\":{\"type\":\"string\"},\"photoUrls\":{\"type\":\"array\",\"items\":[{\"type\":\"string\"}]},\"tags\":{\"type\":\"array\",\"items\":[{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"name\":{\"type\":\"string\"}},\"required\":[\"id\",\"name\"]}]},\"status\":{\"type\":\"string\"}}},\"sparam1\":{\"type\":\"string\"},\"file\":{\"type\":\"any\"}}}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"code\":{\"type\":\"integer\",\"required\":false},\"data\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"FileStatus\":{\"type\":\"string\"},\"StringParamData\":{\"type\":\"string\"},\"ObjectParamData\":{\"type\":\"object\",\"properties\":{}}}}},\"required\":[]}"
                    }
                },
                "explicitReply": true,
                "flowId": "1a2477ef-788f-4342-b042-398f983ebc0c"
            }
        },
        {
            "id": "flow:PutFlowFormURLEncoded",
            "data": {
                "name": "PutFlowFormURLEncoded",
                "description": "Rest service having Request type as Form URL Encoded",
                "links": [
                    {
                        "id": 1,
                        "from": "LogMessage",
                        "to": "ConfigureHTTPResponse",
                        "type": "expression",
                        "label": "LogMessagetoConfigureHTTPResponse",
                        "value": "$flow.queryParams.queryparam <= 200"
                    },
                    {
                        "id": 2,
                        "from": "ConfigureHTTPResponse",
                        "to": "Return200",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LogMessage",
                        "to": "ConfigureHTTPResponse1",
                        "type": "exprOtherwise",
                        "label": "LogMessagetoConfigureHTTPResponse1"
                    },
                    {
                        "id": 4,
                        "from": "ConfigureHTTPResponse1",
                        "to": "Return400",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogMessage",
                        "name": "LogMessage",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "Main flow..."
                            }
                        }
                    },
                    {
                        "id": "ConfigureHTTPResponse",
                        "name": "ConfigureHTTPResponse",
                        "description": "Configure HTTP Response Activity",
                        "activity": {
                            "ref": "#httpresponse",
                            "input": {
                                "trigger": "ReceiveHTTPMessage",
                                "responsecode": "200",
                                "input": {
                                    "mapping": {
                                        "body": {
                                            "Name": "=$flow.body[\"@putName\"]",
                                            "ID": "=$flow.body.putID_",
                                            "Available": "=$flow.body._putBool"
                                        },
                                        "headers": {
                                            "CustomHeader200": "=$flow.pathParams.pathparam"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"CustomHeader200\":{\"type\":\"string\"}}},\"body\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"ID\":{\"type\":\"number\"},\"Available\":{\"type\":\"boolean\"}}}}}",
                                        "fe_metadata": "{\"headers\":{\"CustomHeader200\":\"\"},\"body\":{\"Name\":\"\",\"ID\":432,\"Available\":false}}"
                                    }
                                },
                                "output": {
                                    "response": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"CustomHeader200\":{\"type\":\"string\"}}},\"body\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"ID\":{\"type\":\"number\"},\"Available\":{\"type\":\"boolean\"}}}}}",
                                        "fe_metadata": "{\"headers\":{\"CustomHeader200\":\"\"},\"body\":{\"Name\":\"\",\"ID\":432,\"Available\":false}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return200",
                        "name": "Return200",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "responseBody": {
                                        "mapping": {
                                            "body": "=$activity[ConfigureHTTPResponse].response.body",
                                            "headers": "=$activity[ConfigureHTTPResponse].response.headers"
                                        }
                                    },
                                    "code": "=$activity[ConfigureHTTPResponse].code"
                                }
                            }
                        }
                    },
                    {
                        "id": "ConfigureHTTPResponse1",
                        "name": "ConfigureHTTPResponse1",
                        "description": "Configure HTTP Response Activity",
                        "activity": {
                            "ref": "#httpresponse",
                            "input": {
                                "trigger": "ReceiveHTTPMessage",
                                "responsecode": "400",
                                "input": {
                                    "mapping": {
                                        "body": {
                                            "Error": "Data not found",
                                            "Available": "=boolean.false()"
                                        },
                                        "headers": {
                                            "CustomHeader400": "=$flow.pathParams.pathparam"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"CustomHeader400\":{\"type\":\"string\"}}},\"body\":{\"type\":\"object\",\"properties\":{\"Error\":{\"type\":\"string\"},\"Available\":{\"type\":\"boolean\"}}}}}",
                                        "fe_metadata": "{\"headers\":{\"CustomHeader400\":\"\"},\"body\":{\"Error\":\"\",\"Available\":false}}"
                                    }
                                },
                                "output": {
                                    "response": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"CustomHeader400\":{\"type\":\"string\"}}},\"body\":{\"type\":\"object\",\"properties\":{\"Error\":{\"type\":\"string\"},\"Available\":{\"type\":\"boolean\"}}}}}",
                                        "fe_metadata": "{\"headers\":{\"CustomHeader400\":\"\"},\"body\":{\"Error\":\"\",\"Available\":false}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return400",
                        "name": "Return400",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "responseBody": {
                                        "mapping": {
                                            "body": "=$activity[ConfigureHTTPResponse1].response.body",
                                            "headers": "=$activity[ConfigureHTTPResponse1].response.headers"
                                        }
                                    },
                                    "code": "=$activity[ConfigureHTTPResponse1].code"
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "queryParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"queryparam\":{\"type\":\"number\"}}"
                            }
                        },
                        {
                            "name": "pathParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"pathparam\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "headers",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"headerparam\":{\"type\":\"boolean\"},\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}}"
                            }
                        },
                        {
                            "name": "body",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"@putName\":{\"type\":\"string\"},\"putID_\":{\"type\":\"number\"},\"_putBool\":{\"type\":\"boolean\"}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "code",
                            "type": "integer"
                        },
                        {
                            "name": "responseBody",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"ReceiveHTTPMessage\",\"properties\":{\"queryParams\":{\"type\":\"object\",\"properties\":{\"queryparam\":{\"type\":\"number\"}},\"required\":[\"queryparam\"]},\"pathParams\":{\"type\":\"object\",\"properties\":{\"pathparam\":{\"type\":\"string\"}},\"required\":[]},\"headers\":{\"type\":\"object\",\"properties\":{\"headerparam\":{\"type\":\"boolean\"},\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}},\"required\":[]},\"body\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"@putName\":{\"type\":\"string\"},\"putID_\":{\"type\":\"number\"},\"_putBool\":{\"type\":\"boolean\"}}}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"code\":{\"type\":\"integer\",\"required\":false},\"responseBody\":{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}},\"required\":[]}"
                    }
                },
                "explicitReply": true,
                "flowId": "c14f96a1-e732-4ca3-9226-80aaa4527259"
            }
        }
    ],
    "properties": [
        {
            "name": "AWS.awsConnection.Region",
            "type": "string",
            "value": "us-east-1"
        },
        {
            "name": "AWS.awsConnection.Access_key_ID",
            "type": "string",
            "value": "AKIA3APEL4WLMCIFY6WT"
        },
        {
            "name": "AWS.awsConnection.Secret_access_key",
            "type": "string",
            "value": "SECRET:/caZdhWuzB+p7FKi5TbJbUdQcnCna90Tg5kOKxKAA+r3gxAnqNnRT1SFWmSBpZK+pCCFK2pFJl4="
        },
        {
            "name": "AWS.awsConnection.Role_ARN",
            "type": "string",
            "value": "arn:aws:iam::777281022645:role/lambda-role"
        },
        {
            "name": "AWS.awsConnection.Role_Session_Name",
            "type": "string",
            "value": "lambda-role"
        },
        {
            "name": "AWS.awsConnection.External_ID",
            "type": "string",
            "value": "team-flogo-externalID"
        },
        {
            "name": "AWS.awsConnection.Expiration_Duration(secs)_",
            "type": "float64",
            "value": 900
        }
    ],
    "connections": {
        "f25c9f40-c1e5-11eb-9809-f3586e79f420": {
            "id": "f25c9f40-c1e5-11eb-9809-f3586e79f420",
            "name": "awsConnection",
            "ref": "#connector",
            "isGlobal": false,
            "settings": {
                "name": "awsConnection",
                "description": "",
                "customEndpoint": false,
                "endpoint": "",
                "region": "=$property[\"AWS.awsConnection.Region\"]",
                "accessKey": "=$property[\"AWS.awsConnection.Access_key_ID\"]",
                "secretKey": "=$property[\"AWS.awsConnection.Secret_access_key\"]",
                "assumeRole": true,
                "roleArn": "=$property[\"AWS.awsConnection.Role_ARN\"]",
                "roleSessionName": "=$property[\"AWS.awsConnection.Role_Session_Name\"]",
                "externalId": "=$property[\"AWS.awsConnection.External_ID\"]",
                "expirationDuration": "=$property[\"AWS.awsConnection.Expiration_Duration(secs)_\"]",
                "LAMBDA_CONNECTION_INFO": ""
            }
        }
    },
    "contrib": "W3sicmVmIjoiZ2l0LnRpYmNvLmNvbS9naXQvcHJvZHVjdC9pcGFhcy93aS1jb250cmliLmdpdC9jb250cmlidXRpb25zL0dlbmVyYWwiLCJzM2xvY2F0aW9uIjoiVGliY28vR2VuZXJhbCJ9LHsicmVmIjoiZ2l0LnRpYmNvLmNvbS9naXQvcHJvZHVjdC9pcGFhcy93aS1wbHVnaW5zLmdpdC9jb250cmlidXRpb25zL2FtYXpvblMzL3NyYy9hcHAvQW1hem9uUzMiLCJzM2xvY2F0aW9uIjoiVGliY28vQW1hem9uUzMifSx7InJlZiI6ImdpdC50aWJjby5jb20vZ2l0L3Byb2R1Y3QvaXBhYXMvd2ktcGx1Z2lucy5naXQvY29udHJpYnV0aW9ucy9BV1MiLCJzM2xvY2F0aW9uIjoiVGliY28vQVdTIn1d",
    "fe_metadata": "UEsDBAoAAAAIAFZCv1KrqSRGFQAAABMAAAAIAAAAYXBwLmpzb26rViopykxPTy1yy8kvL1ayio6tBQBQSwECFAAKAAAACABWQr9Sq6kkRhUAAAATAAAACAAAAAAAAAAAAAAAAAAAAAAAYXBwLmpzb25QSwUGAAAAAAEAAQA2AAAAOwAAAAAA"
}